version: "3.9"

services:
  ai_image_text_extraction:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ai_image_text_extraction
    ports:
      - "5001:5000"
    restart: unless-stopped
    environment:
      - FLASK_APP=app.py
      - FLASK_RUN_HOST=0.0.0.0
      - PYTHONUNBUFFERED=1
    deploy:
      resources:
        reservations:
          devices:
            - capabilities: [gpu]
    volumes:
      - .:/app
